{
    "__inputs": [
        {
            "name": "DS_PROMETHEUS",
            "label": "Prometheus",
            "description": "OrQuanta Prometheus datasource",
            "type": "datasource",
            "pluginId": "prometheus",
            "pluginName": "Prometheus"
        }
    ],
    "__requires": [
        {
            "type": "grafana",
            "id": "grafana",
            "name": "Grafana",
            "version": "10.0.0"
        },
        {
            "type": "datasource",
            "id": "prometheus",
            "name": "Prometheus",
            "version": "1.0.0"
        }
    ],
    "description": "OrQuanta Agentic v1.0 ‚Äî Full Platform Monitoring",
    "editable": true,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 1,
    "id": null,
    "links": [],
    "panels": [
        {
            "collapsed": false,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 0
            },
            "id": 100,
            "title": "üñ•Ô∏è Platform Overview",
            "type": "row"
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
                "defaults": {
                    "color": {
                        "mode": "thresholds"
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "green",
                                "value": null
                            },
                            {
                                "color": "red",
                                "value": 80
                            }
                        ]
                    },
                    "unit": "short"
                }
            },
            "gridPos": {
                "h": 4,
                "w": 4,
                "x": 0,
                "y": 1
            },
            "id": 1,
            "options": {
                "colorMode": "background",
                "graphMode": "none",
                "justifyMode": "center",
                "orientation": "auto",
                "reduceOptions": {
                    "calcs": [
                        "lastNotNull"
                    ]
                },
                "textMode": "auto"
            },
            "title": "Active GPU Instances",
            "type": "stat",
            "targets": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "sum(orquanta_active_instances)",
                    "legendFormat": "Active Instances"
                }
            ]
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
                "defaults": {
                    "color": {
                        "fixedColor": "#73BF69",
                        "mode": "fixed"
                    },
                    "unit": "currencyUSD"
                }
            },
            "gridPos": {
                "h": 4,
                "w": 4,
                "x": 4,
                "y": 1
            },
            "id": 2,
            "options": {
                "colorMode": "background",
                "graphMode": "area",
                "justifyMode": "center",
                "reduceOptions": {
                    "calcs": [
                        "lastNotNull"
                    ]
                }
            },
            "title": "üí∞ Total Savings (All Time)",
            "type": "stat",
            "targets": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "orquanta_savings_usd_total",
                    "legendFormat": "Saved USD"
                }
            ]
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
                "defaults": {
                    "color": {
                        "fixedColor": "#5794F2",
                        "mode": "fixed"
                    },
                    "unit": "short"
                }
            },
            "gridPos": {
                "h": 4,
                "w": 4,
                "x": 8,
                "y": 1
            },
            "id": 3,
            "options": {
                "colorMode": "background",
                "graphMode": "area",
                "justifyMode": "center",
                "reduceOptions": {
                    "calcs": [
                        "lastNotNull"
                    ]
                }
            },
            "title": "Jobs Completed (24h)",
            "type": "stat",
            "targets": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "increase(orquanta_jobs_completed_total[24h])",
                    "legendFormat": "Completed"
                }
            ]
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
                "defaults": {
                    "color": {
                        "mode": "thresholds"
                    },
                    "thresholds": {
                        "mode": "percentage",
                        "steps": [
                            {
                                "color": "red",
                                "value": null
                            },
                            {
                                "color": "yellow",
                                "value": 80
                            },
                            {
                                "color": "green",
                                "value": 95
                            }
                        ]
                    },
                    "unit": "percentunit",
                    "max": 1
                }
            },
            "gridPos": {
                "h": 4,
                "w": 4,
                "x": 12,
                "y": 1
            },
            "id": 4,
            "options": {
                "colorMode": "background",
                "graphMode": "none",
                "justifyMode": "center",
                "reduceOptions": {
                    "calcs": [
                        "lastNotNull"
                    ]
                }
            },
            "title": "Job Success Rate (7d)",
            "type": "stat",
            "targets": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "rate(orquanta_jobs_completed_total[7d]) / (rate(orquanta_jobs_completed_total[7d]) + rate(orquanta_jobs_failed_total[7d]) + 0.001)",
                    "legendFormat": "Success Rate"
                }
            ]
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
                "defaults": {
                    "color": {
                        "fixedColor": "#FF9830",
                        "mode": "fixed"
                    },
                    "unit": "h"
                }
            },
            "gridPos": {
                "h": 4,
                "w": 4,
                "x": 16,
                "y": 1
            },
            "id": 5,
            "options": {
                "colorMode": "background",
                "graphMode": "area",
                "justifyMode": "center",
                "reduceOptions": {
                    "calcs": [
                        "lastNotNull"
                    ]
                }
            },
            "title": "GPU Hours (30d)",
            "type": "stat",
            "targets": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "increase(orquanta_gpu_hours_total[30d])",
                    "legendFormat": "GPU-Hours"
                }
            ]
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
                "defaults": {
                    "color": {
                        "mode": "thresholds"
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "green",
                                "value": null
                            },
                            {
                                "color": "yellow",
                                "value": 0.5
                            },
                            {
                                "color": "red",
                                "value": 2
                            }
                        ]
                    },
                    "unit": "s"
                }
            },
            "gridPos": {
                "h": 4,
                "w": 4,
                "x": 20,
                "y": 1
            },
            "id": 6,
            "options": {
                "colorMode": "background",
                "graphMode": "none",
                "justifyMode": "center",
                "reduceOptions": {
                    "calcs": [
                        "lastNotNull"
                    ]
                }
            },
            "title": "API P99 Latency",
            "type": "stat",
            "targets": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "${DS_PROMETHEUS}"
                    },
                    "expr": "histogram_quantile(0.99, rate(orquanta_api_latency_seconds_bucket[5m]))",
                    "legendFormat": "P99"
                }
            ]
        },
        {
            "collapsed": false,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 5
            },
            "id": 101,
            "title": "ü§ñ Agent Health",
            "type": "row"
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
                "defaults": {
                    "color": {
                        "mode": "thresholds"
                    },
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "red",
                                "value": null
                            },
                            {
                                "color": "green",
                                "value": 1
                            }
                        ]
                    },
                    "mappings": [
                        {
                            "options": {
                                "0": {
                                    "color": "red",
                                    "index": 0,
                                    "text": "DOWN"
                                },
                                "1": {
                                    "color": "green",
                                    "index": 1,
                                    "text": "ALIVE"
                                }
                            },
                            "type": "value"
                        }
                    ],
                    "min": 0,
                    "max": 1
                }
            },
            "gridPos": {
                "h": 5,
                "w": 24,
                "x": 0,
                "y": 6
            },
            "id": 7,
            "options": {
                "colorMode": "background",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "reduceOptions": {
                    "calcs": [
                        "lastNotNull"
                    ]
                }
            },
            "title": "Agent Heartbeats",
            "type": "stat",
            "targets": [
                {
                    "expr": "orquanta_agent_heartbeat{agent_name=\"master_orchestrator\"}",
                    "legendFormat": "Master Orchestrator"
                },
                {
                    "expr": "orquanta_agent_heartbeat{agent_name=\"scheduler_agent\"}",
                    "legendFormat": "Scheduler"
                },
                {
                    "expr": "orquanta_agent_heartbeat{agent_name=\"cost_optimizer_agent\"}",
                    "legendFormat": "Cost Optimizer"
                },
                {
                    "expr": "orquanta_agent_heartbeat{agent_name=\"healing_agent\"}",
                    "legendFormat": "Healing Agent"
                },
                {
                    "expr": "orquanta_agent_heartbeat{agent_name=\"audit_agent\"}",
                    "legendFormat": "Audit Agent"
                }
            ]
        },
        {
            "collapsed": false,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 11
            },
            "id": 102,
            "title": "üí∏ Cost & Savings",
            "type": "row"
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
                "defaults": {
                    "custom": {
                        "lineWidth": 2,
                        "fillOpacity": 10
                    },
                    "unit": "currencyUSD"
                }
            },
            "gridPos": {
                "h": 8,
                "w": 12,
                "x": 0,
                "y": 12
            },
            "id": 8,
            "options": {
                "legend": {
                    "displayMode": "list"
                },
                "tooltip": {
                    "mode": "multi"
                }
            },
            "title": "Spend & Savings Over Time",
            "type": "timeseries",
            "targets": [
                {
                    "expr": "rate(orquanta_spend_usd_total[1h]) * 3600",
                    "legendFormat": "Hourly Spend"
                },
                {
                    "expr": "rate(orquanta_savings_usd_total[1h]) * 3600",
                    "legendFormat": "Hourly Savings"
                }
            ]
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
                "defaults": {
                    "unit": "currencyUSD"
                }
            },
            "gridPos": {
                "h": 8,
                "w": 12,
                "x": 12,
                "y": 12
            },
            "id": 9,
            "options": {
                "pieType": "donut",
                "legend": {
                    "displayMode": "table",
                    "placement": "right"
                }
            },
            "title": "Spend by Provider",
            "type": "piechart",
            "targets": [
                {
                    "expr": "orquanta_spend_usd_total",
                    "legendFormat": "{{provider}}"
                }
            ]
        },
        {
            "collapsed": false,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 20
            },
            "id": 103,
            "title": "‚ö° Spot Prices (Live)",
            "type": "row"
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
                "defaults": {
                    "custom": {
                        "lineWidth": 2
                    },
                    "unit": "currencyUSD"
                }
            },
            "gridPos": {
                "h": 7,
                "w": 24,
                "x": 0,
                "y": 21
            },
            "id": 10,
            "options": {
                "legend": {
                    "displayMode": "table",
                    "placement": "right",
                    "calcs": [
                        "lastNotNull",
                        "min",
                        "max"
                    ]
                },
                "tooltip": {
                    "mode": "multi"
                }
            },
            "title": "A100 Spot Price ‚Äî All Providers (USD/hr)",
            "type": "timeseries",
            "targets": [
                {
                    "expr": "orquanta_spot_price_usd_per_hour{gpu_type=\"A100\",provider=\"aws\"}",
                    "legendFormat": "AWS A100"
                },
                {
                    "expr": "orquanta_spot_price_usd_per_hour{gpu_type=\"A100\",provider=\"gcp\"}",
                    "legendFormat": "GCP A100"
                },
                {
                    "expr": "orquanta_spot_price_usd_per_hour{gpu_type=\"A100\",provider=\"azure\"}",
                    "legendFormat": "Azure A100"
                },
                {
                    "expr": "orquanta_spot_price_usd_per_hour{gpu_type=\"A100\",provider=\"coreweave\"}",
                    "legendFormat": "CoreWeave A100"
                }
            ]
        },
        {
            "collapsed": false,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 28
            },
            "id": 104,
            "title": "üîß Self-Healing Events",
            "type": "row"
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
                "defaults": {
                    "unit": "short"
                }
            },
            "gridPos": {
                "h": 6,
                "w": 12,
                "x": 0,
                "y": 29
            },
            "id": 11,
            "options": {
                "legend": {
                    "displayMode": "list"
                }
            },
            "title": "Healing Events by Type",
            "type": "timeseries",
            "targets": [
                {
                    "expr": "rate(orquanta_healing_events_total[5m])",
                    "legendFormat": "{{trigger_type}} ‚Üí {{action_taken}}"
                }
            ]
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
                "defaults": {
                    "unit": "short"
                }
            },
            "gridPos": {
                "h": 6,
                "w": 12,
                "x": 12,
                "y": 29
            },
            "id": 12,
            "options": {
                "legend": {
                    "displayMode": "table"
                }
            },
            "title": "Provider Switches (Cost Optimization)",
            "type": "timeseries",
            "targets": [
                {
                    "expr": "rate(orquanta_provider_switches_total[1h]) * 3600",
                    "legendFormat": "{{from_provider}} ‚Üí {{to_provider}}"
                }
            ]
        },
        {
            "collapsed": false,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 35
            },
            "id": 105,
            "title": "üìä API Performance",
            "type": "row"
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
                "defaults": {
                    "custom": {
                        "lineWidth": 2
                    },
                    "unit": "s"
                }
            },
            "gridPos": {
                "h": 7,
                "w": 12,
                "x": 0,
                "y": 36
            },
            "id": 13,
            "options": {
                "tooltip": {
                    "mode": "multi"
                }
            },
            "title": "API Latency Percentiles",
            "type": "timeseries",
            "targets": [
                {
                    "expr": "histogram_quantile(0.50, rate(orquanta_api_latency_seconds_bucket[5m]))",
                    "legendFormat": "P50"
                },
                {
                    "expr": "histogram_quantile(0.95, rate(orquanta_api_latency_seconds_bucket[5m]))",
                    "legendFormat": "P95"
                },
                {
                    "expr": "histogram_quantile(0.99, rate(orquanta_api_latency_seconds_bucket[5m]))",
                    "legendFormat": "P99"
                }
            ]
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
            },
            "fieldConfig": {
                "defaults": {
                    "unit": "reqps"
                }
            },
            "gridPos": {
                "h": 7,
                "w": 12,
                "x": 12,
                "y": 36
            },
            "id": 14,
            "options": {
                "tooltip": {
                    "mode": "multi"
                }
            },
            "title": "Request Rate & Error Rate",
            "type": "timeseries",
            "targets": [
                {
                    "expr": "rate(orquanta_jobs_submitted_total[5m])",
                    "legendFormat": "Jobs Submitted/s"
                },
                {
                    "expr": "rate(orquanta_rate_limit_blocks_total[5m])",
                    "legendFormat": "Rate Limit Blocks/s"
                }
            ]
        }
    ],
    "refresh": "30s",
    "schemaVersion": 38,
    "tags": [
        "orquanta",
        "gpu-cloud",
        "agents",
        "production"
    ],
    "time": {
        "from": "now-6h",
        "to": "now"
    },
    "timepicker": {},
    "title": "OrQuanta Agentic v1.0 ‚Äî Production Dashboard",
    "uid": "orquanta-v4-production",
    "version": 1
}